(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,n){},17:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),s=n(3),i=n.n(s),r=(n(15),n(4)),c=n(5),l=n(7),d=n(6),h=n(8),m=n(1),g=(n(17),n(19)),u=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).state={modifyCount:0,content:"\\text{Welcome to }\\tmacs\\\\ 1+1=3\\\\ \\log_264=5",macros:[{from:"#",to:"\\text",doInsideBrackets:!0},{from:"*",to:"\\cdot ",doInsideBrackets:!0},{from:"\\and",to:"\\land",doInsideBrackets:!0},{from:"\\mot",to:"\\Box",doInsideBrackets:!0},{from:"\\or",to:"\\lor",doInsideBrackets:!0},{from:"}\n{",to:"}{",doInsideBrackets:!0},{from:"\\vec",to:"\\overline",doInsideBrackets:!0},{from:"\\tmacs",to:"\\boxed{\\tt{Tmacs}}",doInsideBrackets:!0},{from:"\n",to:"\\\\",doInsideBrackets:!1}],oldLen:0,settings:!1,showEditor:!0,texFont:20},n.handle=n.handle.bind(Object(m.a)(Object(m.a)(n))),n.toggle=n.toggle.bind(Object(m.a)(Object(m.a)(n))),n.toggleEditor=n.toggleEditor.bind(Object(m.a)(Object(m.a)(n))),n.changeFont=n.changeFont.bind(Object(m.a)(Object(m.a)(n))),n}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){localStorage.savedMath&&this.setState({content:localStorage.savedMath})}},{key:"handle",value:function(t){var e,n=t.target.value;this.state.modifyCount>=10?(localStorage.setItem("savedMath",n),e=0):e=this.state.modifyCount+1,this.setState({content:n,oldLen:n.length,modifyCount:e})}},{key:"handleMacro",value:function(t,e){for(var n=e,a="",o=0,s=0,i=!1,r=!1,c=0;c<n.length;c++){if(c+t.from.length>n.length){a+=n.substring(c,c+Math.abs(c-n.length));break}if("{"===n[c]&&s++,"}"===n[c]&&o++,i)r?"{"===n[c]&&(r=!1):s===o&&(i=!1),a+=n[c];else if("\\text"!==n.substring(c,c+"\\text".length)){if("{"===n[c]&&s++,"}"===n[c]&&o++,t.doInsideBrackets||s!==o){if(n.substring(c,c+t.from.length)===t.from){a+=t.to,c+=t.from.length-1;continue}}else if(n.substring(c,c+t.from.length)===t.from){a+=t.to,c+=t.from.length-1;continue}a+=n[c]}else c+="\\text".length-1,a+="\\text",i=!0,r=!0}return console.log(a),a}},{key:"preprocess",value:function(t){var e=this,n=t;return this.state.macros.map(function(t){return n=e.handleMacro(t,n)}),n}},{key:"toggle",value:function(){this.setState({settings:!this.state.settings})}},{key:"toggleEditor",value:function(){this.setState({showEditor:!this.state.showEditor})}},{key:"changeFont",value:function(t){this.setState({texFont:t.target.value})}},{key:"render",value:function(){var t=g.renderToString(this.preprocess(this.state.content),{throwOnError:!1});return o.a.createElement("div",null,o.a.createElement("div",{className:"topBar"},o.a.createElement("h2",{className:"title"},o.a.createElement("i",null,"Tmacs")),o.a.createElement("h4",{className:"title"},"By Tuomas Katajisto - t@ktj.st")),o.a.createElement("div",{className:"settings"},o.a.createElement("button",{onClick:this.toggle},this.state.settings?"Hide ":"Show ","settings."),this.state.settings&&o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",checked:this.state.showEditor,onClick:this.toggleEditor,name:"showEditor",value:"editor"}),"Show editor",o.a.createElement("div",{class:"slidecontainer"},"Font size:"," ",o.a.createElement("input",{onChange:this.changeFont,type:"range",min:"1",max:"100",value:this.state.texFont,class:"slider",id:"myRange"})))),o.a.createElement("div",{className:"container"},this.state.showEditor&&o.a.createElement("textarea",{spellCheck:"false",id:"textArea",className:"textArea",onChange:this.handle,value:this.state.content}),o.a.createElement("div",{className:"texArea",style:{fontSize:this.state.texFont+"px"},dangerouslySetInnerHTML:{__html:t}})))}}]),e}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(u,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,n){t.exports=n(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.8c03d8a4.chunk.js.map