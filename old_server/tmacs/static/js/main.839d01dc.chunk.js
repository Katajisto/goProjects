(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,_,t){e.exports=t(21)},16:function(e,_,t){},18:function(e,_,t){},21:function(e,_,t){"use strict";t.r(_);var s=t(0),a=t.n(s),n=t(3),o=t.n(n),r=(t(16),t(4));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(r.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},4:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_App_css__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18),_App_css__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_7__),katex=__webpack_require__(20),App=function(_React$Component){function App(e){var _;return Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,App),(_=Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(App).call(this,e))).state={ctrlDown:!1,qDown:!1,modifyCount:0,content:"\\text{Welcome to }\\tmacs\\\\ 1+1=3\\\\ \\log_264=5",macros:[{from:"#",to:"\\text",doInsideBrackets:!0},{from:"*",to:"\\cdot ",doInsideBrackets:!0},{from:"\\and",to:"\\land",doInsideBrackets:!0},{from:"\\mot",to:"\\Box",doInsideBrackets:!0},{from:"\\or",to:"\\lor",doInsideBrackets:!0},{from:"}\n{",to:"}{",doInsideBrackets:!0},{from:"\\vec",to:"\\overline",doInsideBrackets:!0},{from:"\\tmacs",to:"\\boxed{\\tt{Tmacs}}",doInsideBrackets:!0},{from:"\n",to:"\\\\",doInsideBrackets:!1}],oldLen:0,settings:!1,showEditor:!0,texFont:20},_.handle=_.handle.bind(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(_))),_.toggle=_.toggle.bind(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(_))),_.toggleEditor=_.toggleEditor.bind(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(_))),_.changeFont=_.changeFont.bind(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(_))),_.handleKeydown=_.handleKeydown.bind(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(_))),_.handleKeyup=_.handleKeyup.bind(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__.a)(_))),_}return Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(App,_React$Component),Object(C_Users_Katajisto_tmacs_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(App,[{key:"handleKeydown",value:function handleKeydown(event){if(17==event.which&&this.setState({ctrlDown:!0}),81==event.which&&this.setState({qDown:!0}),this.state.ctrlDown&&this.state.qDown){var expression=prompt("Enter math:");""!=expression&&null!=expression&&alert(eval(expression)),this.setState({ctrlDown:!1,qDown:!1})}console.log()}},{key:"handleKeyup",value:function(e){17==e.which&&this.setState({ctrlDown:!1}),81==e.which&&this.setState({qDown:!1})}},{key:"componentDidMount",value:function(){localStorage.savedMath&&this.setState({content:localStorage.savedMath}),document.addEventListener("keydown",this.handleKeydown),document.addEventListener("keyup",this.handleKeyup)}},{key:"handle",value:function(e){var _,t=e.target.value;this.state.modifyCount>=10?(localStorage.setItem("savedMath",t),_=0):_=this.state.modifyCount+1,this.setState({content:t,oldLen:t.length,modifyCount:_})}},{key:"handleMacro",value:function(e,_){for(var t=_,s="",a=0,n=0,o=!1,r=!1,i=0;i<t.length;i++){if(i+e.from.length>t.length){s+=t.substring(i,i+Math.abs(i-t.length));break}if("{"===t[i]&&n++,"}"===t[i]&&a++,o)r?"{"===t[i]&&(r=!1):n===a&&(o=!1),s+=t[i];else if("\\text"!==t.substring(i,i+"\\text".length)){if("{"===t[i]&&n++,"}"===t[i]&&a++,e.doInsideBrackets||n!==a){if(t.substring(i,i+e.from.length)===e.from){s+=e.to,i+=e.from.length-1;continue}}else if(t.substring(i,i+e.from.length)===e.from){s+=e.to,i+=e.from.length-1;continue}s+=t[i]}else i+="\\text".length-1,s+="\\text",o=!0,r=!0}return s}},{key:"preprocess",value:function(e){var _=this,t=e;return this.state.macros.map(function(e){return t=_.handleMacro(e,t)}),t}},{key:"toggle",value:function(){this.setState({settings:!this.state.settings})}},{key:"toggleEditor",value:function(){this.setState({showEditor:!this.state.showEditor})}},{key:"changeFont",value:function(e){this.setState({texFont:e.target.value})}},{key:"render",value:function(){var e=katex.renderToString(this.preprocess(this.state.content),{throwOnError:!1});return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"topBar"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h2",{className:"title"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("i",null,"Tmacs")),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h4",{className:"title"},"By Tuomas Katajisto - t@ktj.st")),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"settings"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{onClick:this.toggle},this.state.settings?"Hide ":"Show ","settings."),this.state.settings&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{type:"checkbox",checked:this.state.showEditor,onClick:this.toggleEditor,name:"showEditor",value:"editor"}),"Show editor",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{class:"slidecontainer"},"Font size:"," ",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{onChange:this.changeFont,type:"range",min:"1",max:"100",value:this.state.texFont,class:"slider",id:"myRange"})))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"container"},this.state.showEditor&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("textarea",{spellCheck:"false",id:"textArea",className:"textArea",onChange:this.handle,value:this.state.content}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"texArea",style:{fontSize:this.state.texFont+"px"},dangerouslySetInnerHTML:{__html:e}})))}}]),App}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);__webpack_exports__.a=App}},[[10,2,1]]]);
//# sourceMappingURL=main.839d01dc.chunk.js.map